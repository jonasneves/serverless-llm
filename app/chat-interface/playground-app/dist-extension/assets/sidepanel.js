import{c as f,r as o,j as e,R as B,S as T,i as J,n as ue,g as xe,h as pe}from"./index.js";import{P as fe,S as be,A as Z}from"./settings.js";import{S as ge}from"./server.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],le=f("circle-alert",ke);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q=f("circle-check-big",we);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ee=f("circle-x",ye);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],te=f("clock",je);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ve=f("external-link",Ne);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Se=f("eye-off",Ce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Be=f("eye",_e);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],se=f("globe",Ee);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],oe=f("rocket",Me),V="jonasneves",K="serverless-llm",ae=[{name:"Chat",path:"chat-interface.yml"},{name:"Build Images",path:"build-push-images.yml"}];function X(r){return r.trim().replace(/\/+$/,"")}function $e(r){try{return new URL(r).host}catch{return r}}const He=({githubToken:r,chatApiBaseUrl:i,modelsBaseDomain:n})=>{const[d,E]=o.useState(new Map),[U,j]=o.useState(new Map),[b,N]=o.useState(!0),[M,x]=o.useState(null),[v,g]=o.useState(null),[p,C]=o.useState("checking"),[S,$]=o.useState("unknown"),[H,A]=o.useState(null),[_,s]=o.useState(!1),[c,m]=o.useState(null),[D,k]=o.useState(null),I=o.useRef(!1),q=o.useRef(new Map),z={Authorization:`Bearer ${r}`,Accept:"application/vnd.github.v3+json","X-GitHub-Api-Version":"2022-11-28"},L=o.useCallback(async()=>{C("checking");try{const t=X(i)||"http://localhost:8080",l=await fetch(`${t}/health`,{method:"GET",mode:"cors",credentials:"omit",signal:AbortSignal.timeout(5e3)});C(l.ok?"ok":"down")}catch(t){console.log("Health check failed:",t),C("down")}},[i]),re=()=>{var t;return typeof chrome<"u"&&!!((t=chrome.runtime)!=null&&t.sendMessage)},P=async t=>re()?await new Promise(l=>{try{chrome.runtime.sendMessage({type:"native_backend",payload:t},a=>{var h;const u=(h=chrome.runtime.lastError)==null?void 0:h.message;l(u?{ok:!1,error:u}:a)})}catch(a){l({ok:!1,error:(a==null?void 0:a.message)||String(a)})}}):{ok:!1,error:"Native messaging unavailable"},R=o.useCallback(async()=>{const t=X(i)||"http://localhost:8080",l=await P({action:"status",chatApiBaseUrl:t});if(l!=null&&l.ok){$(l.status==="running"?"running":"stopped"),A(l.pid??null),k(null);return}k((l==null?void 0:l.error)||null),$("unknown"),A(null)},[i]),ce=async()=>{if(s(!0),m(null),k(null),!(i.includes("localhost")||i.includes("127.0.0.1"))){k("Backend start only works with local chat API (localhost:8080)"),s(!1);return}const a=await P({action:"start",mode:n?"dev-remote":"dev-interface-local"});!(a!=null&&a.ok)&&(a!=null&&a.logTail)&&m(a.logTail),!(a!=null&&a.ok)&&(a!=null&&a.error)&&k(a.error),await R(),await L(),s(!1)},ie=async()=>{s(!0),m(null),k(null),await P({action:"stop"}),await R(),await L(),s(!1)},de=async()=>{const t=await P({action:"logs"});t!=null&&t.ok&&m(t.logTail||null),!(t!=null&&t.ok)&&(t!=null&&t.error)&&k(t.error)},Y=o.useCallback(async()=>{if(!r){x("GitHub token required"),N(!1);return}try{const t=await fetch(`https://api.github.com/repos/${V}/${K}/actions/workflows`,{headers:z,signal:AbortSignal.timeout(8e3)});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);const l=await t.json(),a=new Map;for(const u of l.workflows){const h=ae.find(w=>u.path.endsWith(w.path));h&&a.set(h.name,{id:u.id,name:h.name,path:u.path})}return q.current=a,E(a),a}catch(t){return x(t.message),null}},[r]),F=o.useCallback(async t=>{const l=t||q.current;if(l.size===0)return;const a=new Map;await Promise.all(Array.from(l.entries()).map(async([u,h])=>{try{const w=await fetch(`https://api.github.com/repos/${V}/${K}/actions/workflows/${h.id}/runs?per_page=1`,{headers:z,signal:AbortSignal.timeout(8e3)});if(w.ok){const W=await w.json();if(W.workflow_runs&&W.workflow_runs.length>0){const y=W.workflow_runs[0];a.set(u,{id:y.id,name:y.name,status:y.status,conclusion:y.conclusion,created_at:y.created_at,updated_at:y.updated_at,html_url:y.html_url})}else a.set(u,null)}}catch{a.set(u,null)}})),j(a),N(!1)},[r]),G=async t=>{const l=q.current.get(t)||d.get(t);if(!(!l||!r)){g(t);try{const a=await fetch(`https://api.github.com/repos/${V}/${K}/actions/workflows/${l.id}/dispatches`,{method:"POST",headers:{...z,"Content-Type":"application/json"},body:JSON.stringify({ref:"main",...t==="Build Images"&&{inputs:{models:"chat-interface"}}}),signal:AbortSignal.timeout(8e3)});if(!a.ok&&a.status!==204)throw new Error(`Failed to trigger: ${a.status}`);setTimeout(()=>{F(),g(null)},2e3)}catch(a){console.error("Failed to trigger workflow:",a),g(null)}}},O=o.useCallback(async()=>{if(!I.current){I.current=!0,N(!0),x(null);try{const t=await Y();t&&await F(t),await Promise.all([L(),R()])}finally{I.current=!1,N(!1)}}},[Y,F,L,R]);o.useEffect(()=>{O();const t=setInterval(O,3e4);return()=>clearInterval(t)},[r,i]);const me=t=>t?t.status==="in_progress"||t.status==="queued"?e.jsx(B,{className:"w-4 h-4 text-yellow-400 animate-spin"}):t.conclusion==="success"?e.jsx(Q,{className:"w-4 h-4 text-green-500"}):t.conclusion==="failure"?e.jsx(ee,{className:"w-4 h-4 text-red-500"}):e.jsx(te,{className:"w-4 h-4 text-gray-400"}):e.jsx(te,{className:"w-4 h-4 text-gray-400"}),he=t=>{const l=new Date(t),u=new Date().getTime()-l.getTime(),h=Math.floor(u/6e4);if(h<1)return"just now";if(h<60)return`${h}m ago`;const w=Math.floor(h/60);return w<24?`${w}h ago`:l.toLocaleDateString()};return r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4"}),"Deployments"]}),e.jsxs("button",{onClick:O,disabled:b,className:"text-xs text-slate-400 hover:text-white transition-colors flex items-center gap-1",children:[e.jsx(B,{className:`w-3 h-3 ${b?"animate-spin":""}`}),"Refresh"]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p==="ok"&&e.jsx(Q,{className:"w-4 h-4 text-green-500"}),p==="down"&&e.jsx(ee,{className:"w-4 h-4 text-red-500"}),p==="checking"&&e.jsx(B,{className:"w-4 h-4 text-gray-400 animate-spin"}),e.jsx("span",{className:"text-sm text-slate-300",children:"Backend"})]}),e.jsx("span",{className:"text-xs text-slate-500 truncate",children:$e(X(i)||"http://localhost:8080")})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-slate-500",children:S==="running"&&H?`Process: running (pid ${H})`:`Process: ${S}`}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:de,className:"text-xs text-slate-400 hover:text-white transition-colors",disabled:_,children:"Logs"}),S!=="running"?e.jsx("button",{onClick:ce,disabled:_,className:"px-2 py-1 text-xs rounded bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600/30 transition-colors",children:"Start"}):e.jsx("button",{onClick:ie,disabled:_,className:"px-2 py-1 text-xs rounded bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors",children:"Stop"})]})]}),c&&e.jsx("pre",{className:"mt-2 max-h-40 overflow-auto text-[10px] leading-snug bg-slate-950/40 border border-slate-700/40 rounded p-2 text-slate-300 whitespace-pre-wrap",children:c}),D&&e.jsxs("div",{className:"mt-2 text-[11px] text-amber-300/90",children:["Native host: ",D]})]}),M&&e.jsx("div",{className:"p-3 rounded-lg bg-red-900/20 border border-red-700/50 text-red-400 text-xs",children:M}),e.jsx("div",{className:"space-y-2",children:ae.map(t=>{const l=U.get(t.name),a=v===t.name;return e.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[me(l??null),e.jsx("span",{className:"text-sm font-medium text-slate-200",children:t.name})]}),l&&e.jsx("a",{href:l.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",title:"View on GitHub",children:e.jsx(ve,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500",children:l?he(l.updated_at):"No runs"}),e.jsxs("button",{onClick:()=>G(t.name),disabled:a||b,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${a?"bg-slate-700 text-slate-400":"bg-blue-600/20 text-blue-400 hover:bg-blue-600/30"}`,children:[a?e.jsx(B,{className:"w-3 h-3 animate-spin"}):e.jsx(fe,{className:"w-3 h-3"}),a?"Triggering...":"Deploy"]})]})]},t.name)})}),e.jsxs("div",{className:"pt-3 border-t border-slate-700/50",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>G("Chat"),disabled:v==="Chat"||b,className:"px-3 py-2 text-xs bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600/30 rounded transition-colors",children:"ðŸš€ Redeploy Chat"}),e.jsx("button",{onClick:()=>G("Build Images"),disabled:v==="Build Images"||b,className:"px-3 py-2 text-xs bg-purple-600/20 text-purple-400 hover:bg-purple-600/30 rounded transition-colors",children:"ðŸ”¨ Rebuild Images"})]})]})]}):e.jsxs("div",{className:"p-4 text-center text-slate-400",children:[e.jsx(le,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Configure GitHub token in Settings to use deployments"})]})},ne={githubToken:"",profile:"local_all",chatApiBaseUrl:"http://localhost:8080",modelsBaseDomain:"",modelsUseHttps:!1};function Ae(r,i){const n={};for(const d of T)n[d.key]=J(d.key,d.localPort,r,i);return n}const De=()=>{const[r,i]=o.useState([]),[n,d]=o.useState(ne),[E,U]=o.useState(!1),[j,b]=o.useState(!1),[N,M]=o.useState(new Date),[x,v]=o.useState("deployments"),g=o.useCallback(s=>T.map(c=>({key:c.key,name:c.name,endpoint:J(c.key,c.localPort,s.modelsBaseDomain,s.modelsUseHttps),status:"checking"})),[]),p=o.useCallback(async s=>{M(new Date);const c=await Promise.all(s.map(async m=>{try{const D=await fetch(`${m.endpoint}/health`,{method:"GET",signal:AbortSignal.timeout(3e3)});return{...m,status:D.ok?"ok":"down"}}catch{return{...m,status:"down"}}}));i(c)},[]);o.useEffect(()=>{chrome.storage.local.get(["envConfig"],s=>{const c=ue(s.envConfig||ne);d(c);const m=g(c);i(m),x==="services"&&setTimeout(()=>p(m),500)})},[g,p]),o.useEffect(()=>{if(x!=="services")return;const s=setInterval(()=>{i(c=>(c.length>0&&p(c),c))},1e4);return()=>clearInterval(s)},[x,p]);const C=()=>{const s=Ae(n.modelsBaseDomain,n.modelsUseHttps),c={...n,qwenEndpoint:s.qwen,phiEndpoint:s.phi,llamaEndpoint:s.llama,mistralEndpoint:s.mistral,gemmaEndpoint:s.gemma,r1qwenEndpoint:s.r1qwen,rnjEndpoint:s.rnj};chrome.storage.local.set({envConfig:c},()=>{const m=g(n);i(m),x==="services"&&p(m)})},S=()=>{chrome.tabs.create({url:chrome.runtime.getURL("index.html")})},$=s=>s==="ok"?e.jsx(Q,{className:"w-4 h-4 text-green-500"}):s==="down"?e.jsx(le,{className:"w-4 h-4 text-red-500"}):e.jsx(B,{className:"w-4 h-4 text-gray-400 animate-spin"}),H=r.filter(s=>s.status==="ok").length,A=!!n.modelsBaseDomain,_=s=>{if(s==="remote_all"){d({...n,profile:s,chatApiBaseUrl:"https://chat.neevs.io",modelsBaseDomain:"neevs.io",modelsUseHttps:!0});return}if(s==="local_chat_remote_models"){d({...n,profile:s,chatApiBaseUrl:"http://localhost:8080",modelsBaseDomain:"neevs.io",modelsUseHttps:!0});return}if(s==="local_all"){d({...n,profile:s,chatApiBaseUrl:"http://localhost:8080",modelsBaseDomain:"",modelsUseHttps:!1});return}d({...n,profile:"custom"})};return e.jsxs("div",{className:"p-4 bg-slate-900 text-white min-h-screen font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Server Controls"]}),e.jsx("button",{onClick:()=>U(!E),className:"p-2 hover:bg-slate-800 rounded transition-colors",title:"Settings",children:e.jsx(be,{className:"w-4 h-4"})})]}),E?e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Profile"}),e.jsxs("select",{value:n.profile,onChange:s=>_(s.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"remote_all",children:"Remote (hosted)"}),e.jsx("option",{value:"local_chat_remote_models",children:"Local chat + remote models"}),e.jsx("option",{value:"local_all",children:"Local (chat + models)"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{className:"pt-3 border-t border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Chat API Base URL"}),e.jsx("input",{type:"text",value:n.chatApiBaseUrl,onChange:s=>d({...n,profile:"custom",chatApiBaseUrl:s.target.value}),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm focus:outline-none focus:border-blue-500",placeholder:"http://localhost:8080"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Used by the main app streaming API and the Deploy tab health check."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"GitHub Token"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:j?"text":"password",value:n.githubToken,onChange:s=>d({...n,githubToken:s.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-800 border border-slate-700 rounded text-sm focus:outline-none focus:border-blue-500",placeholder:"github_pat_..."}),e.jsx("button",{type:"button",onClick:()=>b(!j),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-slate-200 transition-colors",title:j?"Hide token":"Show token",children:j?e.jsx(Se,{className:"w-4 h-4"}):e.jsx(Be,{className:"w-4 h-4"})})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Required for API models & deployments."," ",e.jsx("a",{href:"https://github.com/settings/tokens/new?description=Serverless+LLM+Extension&scopes=repo,workflow&default_expires_at=none",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Create token â†’"})]})]}),e.jsxs("div",{className:"pt-3 border-t border-slate-700",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Models Base Domain"]}),e.jsx("input",{type:"text",value:n.modelsBaseDomain,onChange:s=>d({...n,profile:"custom",modelsBaseDomain:s.target.value.trim()}),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm focus:outline-none focus:border-blue-500",placeholder:"neevs.io"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:n.modelsBaseDomain?`Endpoints: ${n.modelsUseHttps?"https":"http"}://[service].${n.modelsBaseDomain}`:"Leave empty for localhost (default ports)"})]}),n.modelsBaseDomain&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"modelsUseHttps",checked:n.modelsUseHttps,onChange:s=>d({...n,profile:"custom",modelsUseHttps:s.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700"}),e.jsx("label",{htmlFor:"modelsUseHttps",className:"text-sm text-slate-400",children:"Use HTTPS"})]}),n.modelsBaseDomain&&e.jsxs("div",{className:"p-3 bg-slate-800/50 rounded border border-slate-700/50",children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 mb-2",children:"Endpoint Preview"}),e.jsxs("div",{className:"space-y-1 text-xs text-slate-500 font-mono",children:[T.slice(0,3).map(s=>e.jsx("div",{children:J(s.key,s.localPort,n.modelsBaseDomain,n.modelsUseHttps)},s.key)),e.jsxs("div",{className:"text-slate-600",children:["...and ",T.length-3," more"]})]})]}),e.jsx("button",{onClick:C,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium transition-colors text-sm",children:"Save Configuration"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex border-b border-slate-700 mb-4",children:[e.jsxs("button",{onClick:()=>v("deployments"),className:`flex items-center gap-1.5 px-3 py-2 text-sm border-b-2 transition-colors ${x==="deployments"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-white"}`,children:[e.jsx(oe,{className:"w-3.5 h-3.5"}),"Deploy"]}),e.jsxs("button",{onClick:()=>{v("services"),p(r)},className:`flex items-center gap-1.5 px-3 py-2 text-sm border-b-2 transition-colors ${x==="services"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-white"}`,children:[e.jsx(Z,{className:"w-3.5 h-3.5"}),"Services"]})]}),x==="deployments"?e.jsx(He,{githubToken:n.githubToken,chatApiBaseUrl:n.chatApiBaseUrl,modelsBaseDomain:n.modelsBaseDomain}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-slate-800/50 border border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-300",children:A?n.modelsBaseDomain:"localhost"})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[H,"/",r.length," online"]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Service Health"]}),e.jsx("button",{onClick:()=>p(r),className:"text-xs text-slate-400 hover:text-white transition-colors",children:"Refresh"})]}),e.jsx("div",{className:"space-y-2",children:r.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-800 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[$(s.status),e.jsx("span",{className:"text-sm",children:s.name})]}),e.jsx("span",{className:"text-xs text-slate-500 truncate max-w-[120px]",title:s.endpoint,children:s.endpoint.replace("https://","").replace("http://","")})]},s.key))}),e.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Last check: ",N.toLocaleTimeString()]})]})]}),e.jsx("div",{className:"space-y-2 pt-4 border-t border-slate-700/50",children:e.jsx("button",{onClick:S,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium transition-colors",children:"Open Full App"})})]})]})};xe.createRoot(document.getElementById("sidepanel-root")).render(e.jsx(pe.StrictMode,{children:e.jsx(De,{})}));
