import{r as t,j as e,h as we,i as je,T as ie,S as le,B as Q,U as ye,C as Ne,k as Ce}from"./react-vendor-CQxWqugw.js";import{F as ce}from"./FormattedContent-ClPh4eCb.js";import{a as ke,f as Se,s as Ee,E as ue,P as Re,U as Ae}from"./index-BRGoiauy.js";import"./markdown-BNX5kHMI.js";import"./math-render-D6B7xoul.js";import"./syntax-highlight-K7DiErAG.js";function Me(s){const[i,c]=t.useState([]);return t.useEffect(()=>{const w=s.match(/```json\s*([\s\S]*?)\s*```/);if(w)try{let f=w[1];f=f.replace(/[\\']/g,'"').replace(/,\s*}/g,"}").replace(/,\s*]/g,"]").replace(/}\s*[\\]+\s*$/g,"}").replace(/"\s*"\s*$/g,"").trim();const b=JSON.parse(f);if(b.options&&Array.isArray(b.options)){const l=b.options.filter(u=>u.id&&u.label&&u.value);c(l)}}catch(f){console.error("Failed to parse gesture options:",f),c([])}else c([])},[s]),i}function Te(s){return s.replace(/```json[\s\S]*?```/g,"").trim()}const $e=1800;function Le({content:s,onSelect:i,isInline:c=!1}){const w=Me(s),[f,b]=t.useState(null),[l,u]=t.useState({}),j=t.useRef(0),d=t.useRef(0);t.useEffect(()=>{const a=v=>{var M;const S=(M=v.detail)==null?void 0:M.target;if(S&&S.hasAttribute("data-gesture-option")){const y=S.getAttribute("data-gesture-option");y&&y!==f&&(b(y),g(y))}else f&&(b(null),x())};return window.addEventListener("gesture-hover",a),()=>{window.removeEventListener("gesture-hover",a),x()}},[f]);const g=a=>{x(),j.current=Date.now();const v=()=>{const S=Date.now()-j.current,M=Math.min(S/$e*100,100);if(u(y=>({...y,[a]:M})),M>=100){const y=w.find(L=>L.id===a);y&&(i(y.value),x())}else d.current=requestAnimationFrame(v)};d.current=requestAnimationFrame(v)},x=()=>{d.current&&cancelAnimationFrame(d.current),u({})},h=a=>{b(a),g(a)},C=()=>{b(null),x()};if(w.length===0)return null;const k=c?"w-full mt-3":"w-full",p=c?"grid grid-cols-2 gap-2":"flex flex-col gap-2.5",$=a=>c?`relative overflow-hidden rounded-lg font-medium text-xs border transition-all duration-200 text-center min-h-[40px] flex items-center justify-center px-3 py-2 ${a?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`:`relative overflow-hidden rounded-xl font-medium text-sm border transition-all duration-200 w-full text-left min-h-[52px] flex items-center px-4 py-3 ${a?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10 scale-[1.02]":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`;return e.jsxs("div",{className:k,children:[!c&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Quick Actions"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-slate-700/50 to-transparent"})]}),e.jsx("div",{className:p,children:w.map(a=>{const v=l[a.id]||0,S=f===a.id;return e.jsxs("button",{onClick:()=>i(a.value),onMouseEnter:()=>h(a.id),onMouseLeave:C,"data-gesture-option":a.id,className:$(S),children:[S&&v>0&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-400 to-blue-500 transition-all duration-75",style:{width:`${v}%`}}),e.jsx("span",{className:"relative z-10",children:a.label})]},a.id)})})]})}function ze({models:s,selectedModels:i,onToggleModel:c,isGenerating:w,githubToken:f,onConnectGitHub:b,dropDirection:l="up"}){const[u,j]=t.useState(null),[d,g]=t.useState(""),x=t.useRef(null),h=t.useRef(null),C=t.useMemo(()=>s.filter(r=>r.type==="self-hosted"),[s]),k=t.useMemo(()=>s.filter(r=>r.type==="github"),[s]),p=t.useMemo(()=>C.filter(r=>!d||r.name.toLowerCase().includes(d.toLowerCase())),[C,d]),$=t.useMemo(()=>k.filter(r=>!d||r.name.toLowerCase().includes(d.toLowerCase())),[k,d]),a=C.filter(r=>i.has(r.id)).length,v=k.filter(r=>i.has(r.id)).length;t.useEffect(()=>{const r=N=>{x.current&&!x.current.contains(N.target)&&(j(null),g(""))};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),t.useEffect(()=>{const r=N=>{N.key==="Escape"&&(j(null),g(""))};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[]);const S=r=>{u===r?(j(null),g("")):(j(r),g(""),setTimeout(()=>{var N;return(N=h.current)==null?void 0:N.focus()},50))},M=r=>{const N=r.every(A=>i.has(A.id));r.forEach(A=>{(N||!i.has(A.id))&&c(A.id)})},y=r=>r==="self-hosted"?"Self-Hosted":"GitHub Models",L=v>0&&!f,R=l==="up"?we:je,T=r=>r?"rotate-180":"",D=L&&e.jsx("div",{className:"flex flex-col items-center gap-1",children:b?e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-500/10 border border-blue-500/20 text-blue-200 text-xs hover:bg-blue-500/20 transition-colors",children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),e.jsx("span",{children:"Connect GitHub for dedicated quota"})]}):e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-xs",children:[e.jsx(ie,{size:11,className:"shrink-0 text-yellow-500"}),e.jsx("span",{children:"Add GitHub token in Settings for dedicated quota"})]})});return e.jsxs("div",{className:"flex flex-col items-center gap-2",ref:x,children:[l==="up"&&D,e.jsxs("div",{className:"relative flex items-center gap-1 bg-slate-800/90 rounded-lg p-1 border border-slate-700/50 backdrop-blur-md shadow-lg",children:[C.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>S("self-hosted"),disabled:w,className:`h-7 px-2.5 flex items-center gap-2 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${a>0?"bg-emerald-500/20 text-emerald-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shrink-0"}),e.jsx("span",{children:y("self-hosted")}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] leading-none ${a>0?"bg-emerald-500/20 text-emerald-400":"bg-slate-700/50 text-slate-500"}`,children:[a,"/",C.length]}),e.jsx(R,{size:10,className:`shrink-0 opacity-50 transition-transform ${T(u==="self-hosted")}`})]}),u==="self-hosted"&&e.jsx(oe,{models:p,allModels:C,selectedModels:i,onToggleModel:c,onToggleAll:()=>M(C),searchQuery:d,setSearchQuery:g,searchInputRef:h,color:"emerald",showSearch:C.length>5,direction:l})]}),e.jsx("div",{className:"w-px h-5 bg-slate-600/50"})]}),k.length>0&&e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>S("github"),disabled:w,className:`h-7 px-2.5 flex items-center gap-2 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${v>0?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),e.jsx("span",{children:y("github")}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] leading-none ${v>0?"bg-blue-500/20 text-blue-400":"bg-slate-700/50 text-slate-500"}`,children:[v,"/",k.length]}),e.jsx(R,{size:10,className:`shrink-0 opacity-50 transition-transform ${T(u==="github")}`})]}),u==="github"&&e.jsx(oe,{models:$,allModels:k,selectedModels:i,onToggleModel:c,onToggleAll:()=>M(k),searchQuery:d,setSearchQuery:g,searchInputRef:h,color:"blue",showSearch:k.length>5,direction:l})]})]}),l==="down"&&D]})}function oe({models:s,allModels:i,selectedModels:c,onToggleModel:w,onToggleAll:f,searchQuery:b,setSearchQuery:l,searchInputRef:u,color:j,showSearch:d,direction:g}){const x=i.every(p=>c.has(p.id)),h={emerald:{bg:"bg-emerald-500/20",text:"text-emerald-300",check:"text-emerald-400",dot:"bg-emerald-500/50",border:"focus:border-emerald-500/50"},blue:{bg:"bg-blue-500/20",text:"text-blue-300",check:"text-blue-400",dot:"bg-blue-500/50",border:"focus:border-blue-500/50"}}[j],C=g==="up"?"bottom-full left-0 mb-2":"top-full left-0 mt-2",k=g==="up"?"animate-in fade-in slide-in-from-bottom-2":"animate-in fade-in slide-in-from-top-2";return e.jsxs("div",{className:`absolute ${C} w-56 bg-slate-800/95 backdrop-blur-md border border-slate-700 rounded-lg shadow-2xl z-[100] overflow-hidden ${k} duration-150`,onClick:p=>p.stopPropagation(),"data-no-arena-scroll":!0,children:[g==="down"&&d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:u,type:"text",placeholder:"Search...",value:b,onChange:p=>l(p.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${h.border}`})]})}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),g==="down"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${x?`${h.bg} ${h.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:x?"Deselect All":"Select All"}),x&&e.jsx("span",{className:h.check,children:"âœ“"})]}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),e.jsx("div",{className:"max-h-48 overflow-y-scroll chat-scroll",style:{WebkitOverflowScrolling:"touch"},children:s.map(p=>{const $=c.has(p.id),a=p.type==="self-hosted"&&p.available===!1,v=!a;return e.jsxs("button",{onClick:v?()=>w(p.id):void 0,disabled:a,title:a?"Model is offline":void 0,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${a?"opacity-40 cursor-not-allowed":$?`${h.bg} text-slate-200`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-red-500":h.dot}`}),e.jsx("span",{children:p.name})]}),$&&!a&&e.jsx("span",{className:h.check,children:"âœ“"})]},p.id)})}),g==="up"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsxs("button",{onClick:f,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${x?`${h.bg} ${h.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:x?"Deselect All":"Select All"}),x&&e.jsx("span",{className:h.check,children:"âœ“"})]})]}),g==="up"&&d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:u,type:"text",placeholder:"Search...",value:b,onChange:p=>l(p.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${h.border}`})]})})]})]})}function Fe(s,i){const c="group relative max-w-[85%] rounded-2xl px-4 py-3";return s==="user"?`${c} bg-blue-600/20 border border-blue-500/30 text-white rounded-tr-sm`:i?`${c} bg-red-500/10 border border-red-500/30 text-red-200 rounded-tl-sm`:`${c} bg-slate-800/60 border border-slate-700/60 text-slate-200 rounded-tl-sm`}const De=t.memo(({msg:s,idx:i,gesturesActive:c,uiBuilderEnabled:w,isCopied:f,onCopy:b,onGestureSelect:l})=>{const u=s.role==="assistant"&&(c||w)&&s.content.includes("```json");return e.jsxs("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:[e.jsxs("div",{className:Fe(s.role,s.error),children:[e.jsxs("div",{className:`flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider ${s.role==="user"?"text-blue-300 flex-row-reverse":"text-slate-400"}`,children:[s.role==="user"?e.jsx(ye,{size:12}):e.jsx(Q,{size:12}),s.role==="user"?"You":s.modelName||"Assistant",s.error&&e.jsx(ie,{size:12,className:"text-red-400"})]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ce,{text:s.role==="user"?s.content:Te(s.content)})}),s.role==="assistant"&&s.timing&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(ue,{times:s.timing})}),s.role==="assistant"&&s.content&&e.jsx("button",{onClick:()=>b(i),className:`absolute bottom-2 right-2 p-1.5 rounded-md transition-all ${f?"bg-emerald-500/20 text-emerald-400":"opacity-0 group-hover:opacity-100 bg-slate-700/70 text-slate-400"}`,children:f?e.jsx(Ne,{size:12}):e.jsx(Ce,{size:12})})]}),u&&e.jsx("div",{className:"ml-4",children:e.jsx(Le,{content:s.content,onSelect:l,isInline:!1})})]})}),Pe=t.forwardRef(({models:s,selectedModels:i,onToggleModel:c,githubToken:w,githubUsername:f,onConnectGitHub:b,messages:l,setMessages:u,isGenerating:j,setIsGenerating:d,gesturesActive:g=!1,uiBuilderEnabled:x,setUiBuilderEnabled:h},C)=>{var I;const[k,p]=t.useState(!1),[$,a]=t.useState(null),[v,S]=t.useState(new Map),[M,y]=t.useState(new Map),L=t.useRef(new Map),R=t.useRef(null),T=t.useRef(null),D=t.useRef(!1),r=t.useRef(null),N=t.useRef(new Map),A=t.useRef(new Map),O=t.useRef(null),K=ke(),de=((I=K==null?void 0:K.gestureState)==null?void 0:I.gesture)==="Middle_Finger",W=t.useMemo(()=>new Map(s.map(n=>[n.id,n])),[s]);t.useEffect(()=>()=>{r.current&&clearTimeout(r.current),O.current&&cancelAnimationFrame(O.current)},[]);const U=t.useCallback(()=>{O.current||(O.current=requestAnimationFrame(()=>{O.current=null,S(new Map(N.current)),y(new Map(A.current))}))},[]);t.useEffect(()=>{const n=m=>{const E=m.target;E.tagName==="INPUT"||E.tagName==="TEXTAREA"||m.key.length===1&&!m.ctrlKey&&!m.metaKey&&!m.altKey&&T.current&&T.current.focus()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[]);const X=t.useCallback(()=>{if(!R.current)return!0;const{scrollTop:n,scrollHeight:m,clientHeight:E}=R.current;return m-n-E<100},[]);t.useEffect(()=>{const n=R.current;if(!n)return;const m=()=>{D.current=!X()};return n.addEventListener("scroll",m,{passive:!0}),()=>n.removeEventListener("scroll",m)},[X]);const Y=t.useCallback(()=>{!D.current&&R.current&&(R.current.scrollTop=R.current.scrollHeight)},[]);t.useEffect(()=>{Y()},[l,v,Y]);const H=t.useCallback(async(n,m=!1)=>{if(!n.trim()||j)return;const E=Array.from(i);if(E.length===0)return;D.current=!1;const q=Date.now();N.current=new Map(E.map(o=>[o,""])),A.current=new Map(E.map(o=>[o,{startTime:q}])),d(!0),S(new Map(N.current)),y(new Map(A.current));const ee={role:"user",content:n};u(o=>[...o,ee]);const pe=[...l,ee].map(o=>({role:o.role,content:o.content})),_=[];x&&_.push({role:"system",content:Ae}),m&&_.push({role:"system",content:'User is using gesture control. Available gestures: ðŸ‘ (yes), ðŸ‘Ž (no), ðŸ‘‹ (hello), "ok", "thanks", "stop", pointing finger (select buttons).'}),(n==="ðŸ–•"||n.toLowerCase().includes("middle finger"))&&_.push({role:"system",content:"The user is showing you their middle finger. Respond with humorous, over-the-top mock indignation. Play along with the 'angry robot' persona."});const he=[..._,...pe];let B=0;const te=E.length,be=E.map(async o=>{const J=W.get(o),se=Date.now();if(!J){u(P=>[...P,{role:"assistant",content:`Model ${o} not found`,modelId:o,modelName:o,error:!0}]),B++,B===te&&d(!1);return}const re=new AbortController;L.current.set(o,re);try{const P=await Se({models:[o],messages:he,max_tokens:4096,temperature:.7,github_token:w},re.signal);let F="",ne=!0,V,ae=!1;await Ee(P,z=>{if(z.event==="error"||z.error===!0){ae=!0,F=typeof z.content=="string"?z.content:"An error occurred",N.current.set(o,F),U();return}if(z.content){if(ne){ne=!1,V=Date.now();const ve=A.current.get(o)||{startTime:se};A.current.set(o,{...ve,firstTokenTime:V})}F+=z.content,N.current.set(o,F),U()}});const ge=Date.now();u(z=>[...z,{role:"assistant",content:F||"(empty response)",modelId:o,modelName:J.name,timing:{startTime:se,firstTokenTime:V,endTime:ge},error:ae}])}catch(P){P.name!=="AbortError"&&u(F=>[...F,{role:"assistant",content:P.message||"Request failed",modelId:o,modelName:J.name,error:!0}])}finally{L.current.delete(o),N.current.delete(o),A.current.delete(o),U(),B++,B===te&&d(!1)}});await Promise.allSettled(be)},[j,i,l,W,w,x,u,d,U]),G=t.useCallback(()=>{L.current.forEach(n=>n.abort()),L.current.clear(),d(!1)},[d]),Z=t.useCallback(n=>{R.current&&(R.current.scrollTop-=n)},[]);t.useImperativeHandle(C,()=>({sendMessage:H,setInput:n=>{T.current&&(T.current.value=n,T.current.focus())},stopGeneration:G,scroll:Z}),[H,G,Z]);const me=t.useCallback(n=>{const m=l[n];(m==null?void 0:m.role)==="assistant"&&(navigator.clipboard.writeText(m.content),a(`${n}`),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>a(null),2e3))},[l]),xe=t.useCallback(n=>{H(n,!0)},[H]),fe=t.useMemo(()=>Array.from(v.entries()),[v]);return e.jsxs("div",{className:"flex flex-col h-full w-full relative",children:[e.jsx("div",{ref:R,"data-no-arena-scroll":!0,className:"flex-1 overflow-y-auto px-4 py-6 space-y-4 chat-scroll",style:{paddingBottom:l.length>0?"160px":"80px"},children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[l.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6",children:[de?e.jsxs("div",{className:"mb-2 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500 blur-xl opacity-50 rounded-full"}),e.jsx(Q,{size:72,className:"relative text-red-500"}),e.jsx("div",{className:"absolute -top-2 -right-2 text-3xl",children:"ðŸ’¢"})]}):e.jsx(Q,{size:72,className:"mb-2 text-slate-500 transition-all duration-300"}),f&&e.jsxs("p",{className:"text-slate-400 text-lg font-medium",children:["Hey ",f.split(" ")[0],"!"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Select one or more models and start chatting"}),e.jsx(ze,{models:s,selectedModels:i,onToggleModel:c,isGenerating:j,githubToken:w,onConnectGitHub:b,dropDirection:"down"})]}),l.map((n,m)=>e.jsx(De,{msg:n,idx:m,gesturesActive:g,uiBuilderEnabled:x,isCopied:$===`${m}`,onCopy:me,onGestureSelect:xe},m)),j&&fe.map(([n,m])=>{const E=W.get(n),q=M.get(n);return e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"max-w-[85%] rounded-2xl rounded-tl-sm px-4 py-3 bg-slate-800/60 border border-amber-500/30 text-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider text-amber-400/80",children:[e.jsx("div",{className:"w-3 h-3 border-2 border-amber-400/50 border-t-amber-400 rounded-full animate-spin"}),(E==null?void 0:E.name)||n]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ce,{text:m||"..."})}),q&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(ue,{times:q})})]})},n)})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[99] flex flex-col items-center gap-2 px-4 pb-4",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:e.jsx(Re,{inputRef:T,inputFocused:k,setInputFocused:p,onSendMessage:H,isGenerating:j||i.size===0,onStop:G,placeholder:i.size===0?"Select a model above...":"Type a message...",uiBuilderEnabled:x,onToggleUiBuilder:()=>h(!x)})})]})});Pe.displayName="ChatView";export{Pe as default};
