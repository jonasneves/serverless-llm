import{r as t,j as e,h as we,i as je,T as ie,S as ae,B as Q,U as ye,C as Ne,k as Ce}from"./react-vendor-CQxWqugw.js";import{F as ce}from"./FormattedContent-ClPh4eCb.js";import{a as ke,f as Se,s as Me,E as ue,P as Ae,U as Ee}from"./index-CUR90Ko3.js";import"./markdown-BNX5kHMI.js";import"./math-render-D6B7xoul.js";import"./syntax-highlight-K7DiErAG.js";function Re(s){const[c,u]=t.useState([]);return t.useEffect(()=>{const w=s.match(/```json\s*([\s\S]*?)\s*```/);if(w)try{let h=w[1];h=h.replace(/[\\']/g,'"').replace(/,\s*}/g,"}").replace(/,\s*]/g,"]").replace(/}\s*[\\]+\s*$/g,"}").replace(/"\s*"\s*$/g,"").trim();const b=JSON.parse(h);if(b.options&&Array.isArray(b.options)){const a=b.options.filter(d=>d.id&&d.label&&d.value);u(a)}}catch(h){console.error("Failed to parse gesture options:",h),u([])}else u([])},[s]),c}function Te(s){return s.replace(/```json[\s\S]*?```/g,"").trim()}const $e=1800;function Le({content:s,onSelect:c,isInline:u=!1}){const w=Re(s),[h,b]=t.useState(null),[a,d]=t.useState({}),N=t.useRef(0),m=t.useRef(0);t.useEffect(()=>{const l=f=>{var R;const j=(R=f.detail)==null?void 0:R.target;if(j&&j.hasAttribute("data-gesture-option")){const C=j.getAttribute("data-gesture-option");C&&C!==h&&(b(C),g(C))}else h&&(b(null),v())};return window.addEventListener("gesture-hover",l),()=>{window.removeEventListener("gesture-hover",l),v()}},[h]);const g=l=>{v(),N.current=Date.now();const f=()=>{const j=Date.now()-N.current,R=Math.min(j/$e*100,100);if(d(C=>({...C,[l]:R})),R>=100){const C=w.find($=>$.id===l);C&&(c(C.value),v())}else m.current=requestAnimationFrame(f)};m.current=requestAnimationFrame(f)},v=()=>{m.current&&cancelAnimationFrame(m.current),d({})},k=l=>{b(l),g(l)},o=()=>{b(null),v()};if(w.length===0)return null;const S=u?"w-full mt-3":"w-full",F=u?"grid grid-cols-2 gap-2":"flex flex-col gap-2.5",x=l=>u?`relative overflow-hidden rounded-lg font-medium text-xs border transition-all duration-200 text-center min-h-[40px] flex items-center justify-center px-3 py-2 ${l?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`:`relative overflow-hidden rounded-xl font-medium text-sm border transition-all duration-200 w-full text-left min-h-[52px] flex items-center px-4 py-3 ${l?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10 scale-[1.02]":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`;return e.jsxs("div",{className:S,children:[!u&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Quick Actions"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-slate-700/50 to-transparent"})]}),e.jsx("div",{className:F,children:w.map(l=>{const f=a[l.id]||0,j=h===l.id;return e.jsxs("button",{onClick:()=>c(l.value),onMouseEnter:()=>k(l.id),onMouseLeave:o,"data-gesture-option":l.id,className:x(j),children:[j&&f>0&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-400 to-blue-500 transition-all duration-75",style:{width:`${f}%`}}),e.jsx("span",{className:"relative z-10",children:l.label})]},l.id)})})]})}function ze({models:s,selectedModels:c,onToggleModel:u,isGenerating:w,githubToken:h,onConnectGitHub:b,dropDirection:a="up"}){const[d,N]=t.useState(null),[m,g]=t.useState(""),v=t.useRef(null),k=t.useRef(null),o=t.useMemo(()=>s.filter(n=>n.type==="self-hosted"),[s]),S=t.useMemo(()=>s.filter(n=>n.type==="github"),[s]),F=t.useMemo(()=>o.filter(n=>!m||n.name.toLowerCase().includes(m.toLowerCase())),[o,m]),x=t.useMemo(()=>S.filter(n=>!m||n.name.toLowerCase().includes(m.toLowerCase())),[S,m]),l=o.filter(n=>c.has(n.id)).length,f=S.filter(n=>c.has(n.id)).length;t.useEffect(()=>{const n=y=>{v.current&&!v.current.contains(y.target)&&(N(null),g(""))};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]),t.useEffect(()=>{const n=y=>{y.key==="Escape"&&(N(null),g(""))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]);const j=n=>{d===n?(N(null),g("")):(N(n),g(""),setTimeout(()=>{var y;return(y=k.current)==null?void 0:y.focus()},50))},R=n=>{const y=n.filter(A=>!(A.type==="self-hosted"&&A.available===!1)),L=y.every(A=>c.has(A.id));y.forEach(A=>{(L||!c.has(A.id))&&u(A.id)})},C=n=>n==="self-hosted"?"Self-Hosted":"GitHub Models",$=f>0&&!h,E=a==="up"?we:je,T=n=>n?"rotate-180":"",P=$&&e.jsx("div",{className:"flex flex-col items-center gap-1",children:b?e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-500/10 border border-blue-500/20 text-blue-200 text-xs hover:bg-blue-500/20 transition-colors",children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),e.jsx("span",{children:"Connect GitHub to use API models"})]}):e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-xs",children:[e.jsx(ie,{size:11,className:"shrink-0 text-yellow-500"}),e.jsx("span",{children:"Connect GitHub in Settings to use API models"})]})});return e.jsxs("div",{className:"flex flex-col items-center gap-2",ref:v,children:[a==="up"&&P,e.jsxs("div",{className:"relative flex items-center gap-1 bg-slate-800/90 rounded-lg p-1 border border-slate-700/50 backdrop-blur-md shadow-lg",children:[S.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>j("github"),disabled:w,className:`h-7 px-2.5 flex items-center gap-2 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${f>0?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),e.jsx("span",{children:C("github")}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] leading-none ${f>0?"bg-blue-500/20 text-blue-400":"bg-slate-700/50 text-slate-500"}`,children:[f,"/",S.length]}),e.jsx(E,{size:10,className:`shrink-0 opacity-50 transition-transform ${T(d==="github")}`})]}),d==="github"&&e.jsx(oe,{models:x,allModels:S,selectedModels:c,onToggleModel:u,onToggleAll:()=>R(S),searchQuery:m,setSearchQuery:g,searchInputRef:k,color:"blue",showSearch:S.length>5,direction:a})]}),e.jsx("div",{className:"w-px h-5 bg-slate-600/50"})]}),o.length>0&&e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>j("self-hosted"),disabled:w,className:`h-7 px-2.5 flex items-center gap-2 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${l>0?"bg-emerald-500/20 text-emerald-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shrink-0"}),e.jsx("span",{children:C("self-hosted")}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] leading-none ${l>0?"bg-emerald-500/20 text-emerald-400":"bg-slate-700/50 text-slate-500"}`,children:[l,"/",o.length]}),e.jsx(E,{size:10,className:`shrink-0 opacity-50 transition-transform ${T(d==="self-hosted")}`})]}),d==="self-hosted"&&e.jsx(oe,{models:F,allModels:o,selectedModels:c,onToggleModel:u,onToggleAll:()=>R(o),searchQuery:m,setSearchQuery:g,searchInputRef:k,color:"emerald",showSearch:o.length>5,direction:a})]})]}),a==="down"&&P]})}function oe({models:s,allModels:c,selectedModels:u,onToggleModel:w,onToggleAll:h,searchQuery:b,setSearchQuery:a,searchInputRef:d,color:N,showSearch:m,direction:g}){const v=c.filter(x=>!(x.type==="self-hosted"&&x.available===!1)),k=v.length>0&&v.every(x=>u.has(x.id)),o={emerald:{bg:"bg-emerald-500/20",text:"text-emerald-300",check:"text-emerald-400",dot:"bg-emerald-500/50",border:"focus:border-emerald-500/50"},blue:{bg:"bg-blue-500/20",text:"text-blue-300",check:"text-blue-400",dot:"bg-blue-500/50",border:"focus:border-blue-500/50"}}[N],S=g==="up"?"bottom-full left-0 mb-2":"top-full left-0 mt-2",F=g==="up"?"animate-in fade-in slide-in-from-bottom-2":"animate-in fade-in slide-in-from-top-2";return e.jsxs("div",{className:`absolute ${S} w-56 bg-slate-800/95 backdrop-blur-md border border-slate-700 rounded-lg shadow-2xl z-[100] overflow-hidden ${F} duration-150`,onClick:x=>x.stopPropagation(),"data-no-arena-scroll":!0,children:[g==="down"&&m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:d,type:"text",placeholder:"Search...",value:b,onChange:x=>a(x.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${o.border}`})]})}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),g==="down"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:h,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${k?`${o.bg} ${o.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:k?"Deselect All":"Select All"}),k&&e.jsx("span",{className:o.check,children:"âœ“"})]}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),e.jsx("div",{className:"max-h-48 overflow-y-scroll chat-scroll",style:{WebkitOverflowScrolling:"touch"},children:s.map(x=>{const l=u.has(x.id),f=x.type==="self-hosted"&&x.available===!1,j=!f;return e.jsxs("button",{onClick:j?()=>w(x.id):void 0,disabled:f,title:f?"Model is offline":void 0,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${f?"opacity-40 cursor-not-allowed":l?`${o.bg} text-slate-200`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-red-500":o.dot}`}),e.jsx("span",{children:x.name})]}),l&&!f&&e.jsx("span",{className:o.check,children:"âœ“"})]},x.id)})}),g==="up"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsxs("button",{onClick:h,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${k?`${o.bg} ${o.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:k?"Deselect All":"Select All"}),k&&e.jsx("span",{className:o.check,children:"âœ“"})]})]}),g==="up"&&m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:d,type:"text",placeholder:"Search...",value:b,onChange:x=>a(x.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${o.border}`})]})})]})]})}function Fe(s,c){const u="group relative max-w-[85%] rounded-2xl px-4 py-3";return s==="user"?`${u} bg-blue-600/20 border border-blue-500/30 text-white rounded-tr-sm`:c?`${u} bg-red-500/10 border border-red-500/30 text-red-200 rounded-tl-sm`:`${u} bg-slate-800/60 border border-slate-700/60 text-slate-200 rounded-tl-sm`}const De=t.memo(({msg:s,idx:c,gesturesActive:u,uiBuilderEnabled:w,isCopied:h,onCopy:b,onGestureSelect:a})=>{const d=s.role==="assistant"&&(u||w)&&s.content.includes("```json");return e.jsxs("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:[e.jsxs("div",{className:Fe(s.role,s.error),children:[e.jsxs("div",{className:`flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider ${s.role==="user"?"text-blue-300 flex-row-reverse":"text-slate-400"}`,children:[s.role==="user"?e.jsx(ye,{size:12}):e.jsx(Q,{size:12}),s.role==="user"?"You":s.modelName||"Assistant",s.error&&e.jsx(ie,{size:12,className:"text-red-400"})]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ce,{text:s.role==="user"?s.content:Te(s.content)})}),s.role==="assistant"&&s.timing&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(ue,{times:s.timing})}),s.role==="assistant"&&s.content&&e.jsx("button",{onClick:()=>b(c),className:`absolute bottom-2 right-2 p-1.5 rounded-md transition-all ${h?"bg-emerald-500/20 text-emerald-400":"opacity-0 group-hover:opacity-100 bg-slate-700/70 text-slate-400"}`,children:h?e.jsx(Ne,{size:12}):e.jsx(Ce,{size:12})})]}),d&&e.jsx("div",{className:"ml-4",children:e.jsx(Le,{content:s.content,onSelect:a,isInline:!1})})]})}),Pe=t.forwardRef(({models:s,selectedModels:c,onToggleModel:u,githubToken:w,githubUsername:h,onConnectGitHub:b,messages:a,setMessages:d,isGenerating:N,setIsGenerating:m,gesturesActive:g=!1,uiBuilderEnabled:v,setUiBuilderEnabled:k},o)=>{var I;const[S,F]=t.useState(!1),[x,l]=t.useState(null),[f,j]=t.useState(new Map),[R,C]=t.useState(new Map),$=t.useRef(new Map),E=t.useRef(null),T=t.useRef(null),P=t.useRef(!1),n=t.useRef(null),y=t.useRef(new Map),L=t.useRef(new Map),A=t.useRef(null),K=ke(),de=((I=K==null?void 0:K.gestureState)==null?void 0:I.gesture)==="Middle_Finger",W=t.useMemo(()=>new Map(s.map(r=>[r.id,r])),[s]);t.useEffect(()=>()=>{n.current&&clearTimeout(n.current),A.current&&cancelAnimationFrame(A.current)},[]);const U=t.useCallback(()=>{A.current||(A.current=requestAnimationFrame(()=>{A.current=null,j(new Map(y.current)),C(new Map(L.current))}))},[]);t.useEffect(()=>{const r=p=>{const M=p.target;M.tagName==="INPUT"||M.tagName==="TEXTAREA"||p.key.length===1&&!p.ctrlKey&&!p.metaKey&&!p.altKey&&T.current&&T.current.focus()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]);const X=t.useCallback(()=>{if(!E.current)return!0;const{scrollTop:r,scrollHeight:p,clientHeight:M}=E.current;return p-r-M<100},[]);t.useEffect(()=>{const r=E.current;if(!r)return;const p=()=>{P.current=!X()};return r.addEventListener("scroll",p,{passive:!0}),()=>r.removeEventListener("scroll",p)},[X]);const Y=t.useCallback(()=>{!P.current&&E.current&&(E.current.scrollTop=E.current.scrollHeight)},[]);t.useEffect(()=>{Y()},[a,f,Y]);const H=t.useCallback(async(r,p=!1)=>{if(!r.trim()||N)return;const M=Array.from(c);if(M.length===0)return;P.current=!1;const _=Date.now();y.current=new Map(M.map(i=>[i,""])),L.current=new Map(M.map(i=>[i,{startTime:_}])),m(!0),j(new Map(y.current)),C(new Map(L.current));const ee={role:"user",content:r};d(i=>[...i,ee]);const pe=[...a,ee].map(i=>({role:i.role,content:i.content})),B=[];v&&B.push({role:"system",content:Ee}),p&&B.push({role:"system",content:'User is using gesture control. Available gestures: ðŸ‘ (yes), ðŸ‘Ž (no), ðŸ‘‹ (hello), "ok", "thanks", "stop", pointing finger (select buttons).'}),(r==="ðŸ–•"||r.toLowerCase().includes("middle finger"))&&B.push({role:"system",content:"The user is showing you their middle finger. Respond with humorous, over-the-top mock indignation. Play along with the 'angry robot' persona."});const he=[...B,...pe];let q=0;const te=M.length,be=M.map(async i=>{const J=W.get(i),se=Date.now();if(!J){d(O=>[...O,{role:"assistant",content:`Model ${i} not found`,modelId:i,modelName:i,error:!0}]),q++,q===te&&m(!1);return}const re=new AbortController;$.current.set(i,re);try{const O=await Se({models:[i],messages:he,max_tokens:4096,temperature:.7,github_token:w},re.signal);let D="",ne=!0,V,le=!1;await Me(O,z=>{if(z.event==="error"||z.error===!0){le=!0,D=typeof z.content=="string"?z.content:"An error occurred",y.current.set(i,D),U();return}if(z.content){if(ne){ne=!1,V=Date.now();const ve=L.current.get(i)||{startTime:se};L.current.set(i,{...ve,firstTokenTime:V})}D+=z.content,y.current.set(i,D),U()}});const ge=Date.now();d(z=>[...z,{role:"assistant",content:D||"(empty response)",modelId:i,modelName:J.name,timing:{startTime:se,firstTokenTime:V,endTime:ge},error:le}])}catch(O){O.name!=="AbortError"&&d(D=>[...D,{role:"assistant",content:O.message||"Request failed",modelId:i,modelName:J.name,error:!0}])}finally{$.current.delete(i),y.current.delete(i),L.current.delete(i),U(),q++,q===te&&m(!1)}});await Promise.allSettled(be)},[N,c,a,W,w,v,d,m,U]),G=t.useCallback(()=>{$.current.forEach(r=>r.abort()),$.current.clear(),m(!1)},[m]),Z=t.useCallback(r=>{E.current&&(E.current.scrollTop-=r)},[]);t.useImperativeHandle(o,()=>({sendMessage:H,setInput:r=>{T.current&&(T.current.value=r,T.current.focus())},stopGeneration:G,scroll:Z}),[H,G,Z]);const me=t.useCallback(r=>{const p=a[r];(p==null?void 0:p.role)==="assistant"&&(navigator.clipboard.writeText(p.content),l(`${r}`),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>l(null),2e3))},[a]),xe=t.useCallback(r=>{H(r,!0)},[H]),fe=t.useMemo(()=>Array.from(f.entries()),[f]);return e.jsxs("div",{className:"flex flex-col h-full w-full relative",children:[e.jsx("div",{ref:E,"data-no-arena-scroll":!0,className:"flex-1 overflow-y-auto px-4 py-6 space-y-4 chat-scroll",style:{paddingBottom:a.length>0?"160px":"80px"},children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6",children:[de?e.jsxs("div",{className:"mb-2 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500 blur-xl opacity-50 rounded-full"}),e.jsx(Q,{size:72,className:"relative text-red-500"}),e.jsx("div",{className:"absolute -top-2 -right-2 text-3xl",children:"ðŸ’¢"})]}):e.jsx(Q,{size:72,className:"mb-2 text-slate-500 transition-all duration-300"}),h&&e.jsxs("p",{className:"text-slate-400 text-lg font-medium",children:["Hey ",h.split(" ")[0],"!"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Select one or more models and start chatting"}),e.jsx(ze,{models:s,selectedModels:c,onToggleModel:u,isGenerating:N,githubToken:w,onConnectGitHub:b,dropDirection:"down"})]}),a.map((r,p)=>e.jsx(De,{msg:r,idx:p,gesturesActive:g,uiBuilderEnabled:v,isCopied:x===`${p}`,onCopy:me,onGestureSelect:xe},p)),N&&fe.map(([r,p])=>{const M=W.get(r),_=R.get(r);return e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"max-w-[85%] rounded-2xl rounded-tl-sm px-4 py-3 bg-slate-800/60 border border-amber-500/30 text-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider text-amber-400/80",children:[e.jsx("div",{className:"w-3 h-3 border-2 border-amber-400/50 border-t-amber-400 rounded-full animate-spin"}),(M==null?void 0:M.name)||r]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ce,{text:p||"..."})}),_&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(ue,{times:_})})]})},r)})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[99] flex flex-col items-center gap-2 px-4 pb-4",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:e.jsx(Ae,{inputRef:T,inputFocused:S,setInputFocused:F,onSendMessage:H,isGenerating:N||c.size===0,onStop:G,placeholder:c.size===0?"Select a model above...":"Type a message...",uiBuilderEnabled:v,onToggleUiBuilder:()=>k(!v)})})]})});Pe.displayName="ChatView";export{Pe as default};
