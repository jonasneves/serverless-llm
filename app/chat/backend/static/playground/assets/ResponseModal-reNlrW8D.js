import{r as h,j as e}from"./react-vendor-CQxWqugw.js";import{F as f}from"./FormattedContent-ClPh4eCb.js";import"./markdown-BNX5kHMI.js";import"./math-render-D6B7xoul.js";import"./syntax-highlight-K7DiErAG.js";function w({model:s,executionTimes:t,onClose:o,onPrev:a,onNext:l,hasPrev:n=!1,hasNext:i=!1}){const d=h.useCallback(r=>{r.key==="Escape"?o():r.key==="ArrowLeft"&&n&&a?a():r.key==="ArrowRight"&&i&&l&&l()},[o,a,l,n,i]);if(h.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[d]),!s)return null;const x=s.type==="self-hosted"?"#10b981":"#3b82f6",p=!!(s.thinking&&s.thinking.trim().length>0),c=r=>r<1e3?`${r}ms`:`${(r/1e3).toFixed(2)}s`,b=()=>{navigator.clipboard.writeText(s.response)};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:o,children:e.jsxs("div",{className:"w-[800px] max-w-[calc(100vw-2rem)] max-h-[85vh] overflow-hidden rounded-2xl border border-slate-700/60 bg-slate-900/98 shadow-2xl flex flex-col",onClick:r=>r.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":`Response from ${s.name}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-800/60 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:x}}),e.jsx("h2",{className:"text-base font-semibold text-slate-100",children:s.name}),e.jsx("span",{className:`text-[10px] uppercase tracking-wider px-2 py-0.5 rounded ${s.type==="self-hosted"?"bg-emerald-500/15 text-emerald-300 border border-emerald-500/30":"bg-blue-500/15 text-blue-300 border border-blue-500/30"}`,children:s.type==="self-hosted"?"Self-hosted":"API"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[(n||i)&&e.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),a==null||a()},disabled:!n,className:"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-800/60 transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Previous model",title:"Previous (Left Arrow)",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),l==null||l()},disabled:!i,className:"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-800/60 transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Next model",title:"Next (Right Arrow)",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("button",{onClick:b,className:"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-800/60 transition-colors","aria-label":"Copy response",title:"Copy to clipboard",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:o,className:"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-800/60 transition-colors","aria-label":"Close",title:"Close (Esc)",children:e.jsx("span",{className:"text-xl leading-none",children:"Ã—"})})]})]}),t&&e.jsxs("div",{className:"flex items-center gap-4 px-5 py-2 border-b border-slate-800/40 text-xs text-slate-400 bg-slate-900/50",children:[t.firstTokenTime&&t.startTime&&e.jsxs("span",{children:["TTFT: ",e.jsx("span",{className:"text-slate-300",children:c(t.firstTokenTime-t.startTime)})]}),t.endTime&&t.startTime&&e.jsxs("span",{children:["Total: ",e.jsx("span",{className:"text-slate-300",children:c(t.endTime-t.startTime)})]}),t.endTime&&t.firstTokenTime&&s.response&&e.jsxs("span",{children:["Speed: ",e.jsxs("span",{className:"text-slate-300",children:[Math.round(s.response.length/((t.endTime-t.firstTokenTime)/1e3))," chars/s"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:s.error?e.jsxs("div",{className:"text-red-400 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Error:"})," ",s.error]}):s.response?e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(f,{text:s.response,thinkingText:s.thinking,showThinking:p})}):e.jsx("div",{className:"text-slate-500 italic",children:"No response yet."})}),e.jsxs("div",{className:"px-5 py-2 border-t border-slate-800/40 text-[10px] text-slate-500 flex items-center justify-between",children:[e.jsxs("span",{children:["Press Esc to close",n||i?", Arrow keys to navigate":""]}),s.response&&e.jsxs("span",{children:[s.response.length.toLocaleString()," characters"]})]})]})})}export{w as default};
