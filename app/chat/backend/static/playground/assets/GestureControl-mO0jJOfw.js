import{r as s,j as e,b as D,H as N,X as f,N as I,f as G,C as F}from"./react-vendor-CQxWqugw.js";import{u as W}from"./index-CSNMt-KY.js";import"./markdown-BNX5kHMI.js";import"./math-render-D6B7xoul.js";import"./syntax-highlight-K7DiErAG.js";const w="gesture-control-skip-intro";function U({inHeader:c=!1,...t}){const o=W();s.useEffect(()=>{o.setCallbacks({onStopGeneration:t.onStopGeneration,onSendMessage:t.onSendMessage,onScroll:t.onScroll,onPinch:t.onPinch,onHover:t.onHover,onModeChange:t.onModeChange})},[t.onStopGeneration,t.onSendMessage,t.onScroll,t.onPinch,t.onHover,t.onModeChange,o.setCallbacks]),s.useEffect(()=>{t.appContext&&o.setAppContext(t.appContext)},[t.appContext,o.setAppContext]);const[R,d]=s.useState(!1),[L,b]=s.useState(!1),[n,x]=s.useState(!1),[m,C]=s.useState(!1),[k,y]=s.useState(!1),[a,P]=s.useState(null),v=s.useRef(null),g=s.useRef(null),{isActive:l,setIsActive:i,gestureState:u,cameraError:h,setCameraError:p,performanceMetrics:S}=o;s.useEffect(()=>{localStorage.getItem(w)==="true"&&b(!0)},[]),s.useEffect(()=>{if(!n)return;const r=j=>{v.current&&!v.current.contains(j.target)&&x(!1)},M=j=>{j.key==="Escape"&&x(!1)};return document.addEventListener("mousedown",r),window.addEventListener("keydown",M),()=>{document.removeEventListener("mousedown",r),window.removeEventListener("keydown",M)}},[n]),s.useEffect(()=>{u.triggered&&(y(!0),setTimeout(()=>y(!1),300))},[u]),s.useEffect(()=>{if(h){i(!1);const r=setTimeout(()=>p(null),5e3);return()=>clearTimeout(r)}},[h,i,p]),s.useEffect(()=>{const r=()=>{g.current&&P(g.current.getBoundingClientRect())};return r(),window.addEventListener("resize",r),window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r,!0)}},[l,n,c]);const E=()=>{l?(i(!1),x(!1)):L?i(!0):d(!0)},H=()=>{m&&(localStorage.setItem(w,"true"),b(!0)),d(!1),i(!0),C(!1)},z={left:"calc(50% - 180px)"},T=c?"relative z-50 pointer-events-auto":"fixed top-4 sm:top-6 z-50 pointer-events-auto",A=c?{}:z;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:v,className:T,style:A,children:[e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:g,onClick:()=>l?x(!n):E(),className:`relative w-[42px] h-[42px] rounded-full flex items-center justify-center border transition-all duration-200 active:scale-95 ${l?"bg-blue-500/20 border-blue-500/50 text-blue-400 hover:bg-blue-500/30 animate-pulse":"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:bg-slate-700/50 hover:text-slate-200"}`,title:l?"Gesture Control Panel":"Enable Gesture Control",children:e.jsx(N,{size:18})}),l&&e.jsx("button",{onClick:()=>i(!1),className:"absolute top-full mt-1 left-1/2 -translate-x-1/2 w-7 h-7 rounded-full bg-red-500/20 border border-red-500/50 flex items-center justify-center text-red-400 hover:bg-red-500/30 hover:text-red-300 transition-all active:scale-95",title:"Disable",children:e.jsx(f,{size:14})})]}),l&&n&&e.jsxs("div",{"data-gesture-panel":!0,className:"fixed z-[100] bg-slate-900/95 backdrop-blur-md border border-slate-700/80 rounded-xl shadow-2xl overflow-hidden animate-in fade-in duration-200",style:{width:220,left:a?Math.min(a.right+12,window.innerWidth-232):12,top:a?Math.max(12,Math.min(a.top-30,window.innerHeight-200)):80},children:[e.jsxs("div",{className:"px-3 py-2 border-b border-slate-700/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{size:14,className:"text-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-slate-200",children:"Gestures"})]}),S&&e.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[S.fps,"fps"]})]}),e.jsx("div",{className:"px-3 py-2 border-b border-slate-700/50",children:e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[e.jsx("div",{className:"text-slate-400",children:"â˜ï¸ Point â†’ Hover"}),e.jsx("div",{className:"text-slate-400",children:"ðŸ–ï¸ Hold â†’ Click"}),e.jsx("div",{className:"text-slate-400",children:"âœŠ Fist â†’ Scroll"}),e.jsx("div",{className:"text-slate-400",children:"ðŸ‘‹ Wave â†’ Hi"}),e.jsx("div",{className:"text-slate-400",children:"ðŸ‘ Up â†’ Yes"}),e.jsx("div",{className:"text-slate-400",children:"ðŸ‘Ž Down â†’ No"})]})}),e.jsxs("div",{className:"px-3 py-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{localStorage.removeItem(w),b(!1),d(!0)},className:"flex-1 text-[10px] text-slate-500 hover:text-slate-300 transition-colors",children:"Guide"}),e.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-2 py-1 text-[10px] text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-all",children:[e.jsx(f,{size:10})," Stop"]})]})]})]}),D.createPortal(e.jsxs(e.Fragment,{children:[l&&u.progress>0&&!n&&e.jsx("div",{className:"fixed z-40 pointer-events-none",style:c&&a?{left:a.left+a.width/2-24,top:a.top+a.height/2-24,width:48,height:48}:{...z,top:"calc(1rem)",width:48,height:48,marginLeft:-4,marginTop:-4},children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"24",cy:"24",r:"21",fill:"none",stroke:"rgba(100, 116, 139, 0.3)",strokeWidth:"3"}),e.jsx("circle",{cx:"24",cy:"24",r:"21",fill:"none",stroke:k?"#22c55e":"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${u.progress*132} 132`,style:{filter:k?"drop-shadow(0 0 8px rgba(34, 197, 94, 0.8))":"drop-shadow(0 0 6px rgba(59, 130, 246, 0.5))",transition:"stroke 0.2s, filter 0.2s"}})]})}),R&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>d(!1)}),e.jsxs("div",{className:"relative bg-slate-900 border border-slate-700 rounded-xl w-full max-w-xs shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:e.jsx(N,{size:16,className:"text-slate-300"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-100",children:"Gesture Control"}),e.jsx("p",{className:"text-[10px] text-slate-500",children:"Hand tracking"})]})]}),e.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded text-slate-500 hover:text-slate-300",children:e.jsx(f,{size:16})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"p-3 rounded-lg border border-slate-700/50 bg-slate-800/30 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-slate-200",children:"Navigation"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px] text-slate-500",children:[e.jsx("div",{children:"â˜ï¸ Hover"}),e.jsx("div",{children:"âœŠ Scroll"}),e.jsx("div",{children:"ðŸ‘ Yes"}),e.jsx("div",{children:"ðŸ‘Ž No"})]})]}),e.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-slate-800/30 border border-slate-700/30",children:[e.jsx(G,{size:12,className:"text-slate-500 mt-0.5"}),e.jsx("p",{className:"text-[9px] text-slate-500",children:"Processing happens locally. No video sent to servers."})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group mb-3",children:[e.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-all ${m?"bg-blue-600 border-blue-500":"border-slate-600"}`,onClick:()=>C(!m),children:m&&e.jsx(F,{size:10,className:"text-white"})}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"Don't show again"})]}),e.jsx("button",{onClick:H,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors",children:"Enable"})]})]})]}),h&&e.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-top-4 fade-in duration-300",children:e.jsxs("div",{className:"bg-red-900/90 backdrop-blur-md border border-red-500/50 text-red-100 px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 max-w-sm",children:[e.jsx(G,{size:14,className:"text-red-400"}),e.jsx("span",{className:"text-xs",children:h}),e.jsx("button",{onClick:()=>p(null),className:"ml-1 text-red-300 hover:text-white",children:e.jsx(f,{size:14})})]})})]}),document.body)]})}export{U as default};
