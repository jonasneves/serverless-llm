import{j as i,E as g}from"./react-vendor-Cr2kZ6Hw.js";import{r as p}from"./math-render-BeslBgx1.js";import{c as x,d as k,e as u}from"./markdown-BhL5aFst.js";const d=t=>{var o,c;if(!t)return{thinking:null,answer:""};const r=t.match(/<think>([\s\S]*?)<\/think>\s*([\s\S]*)/i),l=t.match(/<thinking>([\s\S]*?)<\/thinking>\s*([\s\S]*)/i);let a=null;if(r&&l?a=t.indexOf("<think>")<t.indexOf("<thinking>")?r:l:a=r||l,a){const n=(o=a[1])==null?void 0:o.trim(),s=(a[2]||"").trim();return n&&n.length>0?{thinking:n,answer:s}:{thinking:null,answer:s}}const m=t.match(/^([\s\S]*?)<\/think>\s*([\s\S]*)/i),h=t.match(/^([\s\S]*?)<\/thinking>\s*([\s\S]*)/i),e=m||h;if(e){const n=(c=e[1])==null?void 0:c.trim(),s=(e[2]||"").trim();if(n&&n.length>0&&s.length>0)return{thinking:n,answer:s}}return{thinking:null,answer:t}};function j({text:t,thinkingText:r,showThinking:l=!0}){const{thinking:a,answer:m}=d(t),h=r&&r.trim().length>0?r:a;return i.jsxs("div",{children:[h&&h.trim()&&l&&i.jsxs("details",{className:"mb-3 rounded-lg border border-slate-700/50 bg-slate-900/40",children:[i.jsx("summary",{className:"cursor-pointer select-none px-3 py-2 text-xs font-semibold text-slate-300",children:"Thinking"}),i.jsx("pre",{className:"px-3 pb-3 pt-1 text-xs text-slate-400 whitespace-pre-wrap",children:h})]}),i.jsx(g,{remarkPlugins:[k,u],rehypePlugins:[[p,{throwOnError:!1}],[x,{ignoreMissing:!0}]],components:{a:({...e})=>i.jsx("a",{...e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline"}),pre:({...e})=>i.jsx("pre",{...e,className:"rounded-lg bg-slate-950/70 p-3 overflow-x-auto text-sm"}),code:e=>{const{inline:o,className:c,children:n,...s}=e;return o?i.jsx("code",{...s,className:"px-1 py-0.5 rounded bg-slate-800/70 text-slate-200 text-[0.9em]",children:n}):i.jsx("code",{...s,className:c,children:n})}},children:m})]})}export{j as F};
