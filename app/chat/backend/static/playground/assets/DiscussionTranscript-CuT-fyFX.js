import{r as x,j as e,M as $,e as A}from"./react-vendor-CQxWqugw.js";import{F as m}from"./FormattedContent-ClPh4eCb.js";import{M as O}from"./index-CJvGIuZ8.js";import"./markdown-BNX5kHMI.js";import"./math-render-D6B7xoul.js";import"./syntax-highlight-K7DiErAG.js";function I({history:l,models:g,mode:u,onSelectPrompt:p,onNewSession:b,className:w="",phaseLabel:f,isGenerating:o,isSynthesizing:a,speakingCount:k=0,totalParticipants:n=0}){var v;const y=x.useRef(null),d=x.useRef(null),h=u?O[u]:[];x.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[l.length,(v=l[l.length-1])==null?void 0:v.content]);const _=s=>g.find(t=>t.name===s),C=o||a,j=n-k,M=n>0?j/n*100:0,E=(s,t)=>{if(s.role==="user")return e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs("div",{className:"max-w-[85%] bg-blue-600/20 border border-blue-500/30 rounded-2xl rounded-tr-sm px-4 py-3 text-slate-100",children:[e.jsx("div",{className:"text-[10px] text-blue-300 uppercase tracking-wider mb-1 font-bold text-right",children:"You"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:s.content})]})},t);if(s.kind==="analyze_synthesis"||s.kind==="compare_summary"){let r="Analysis",c=s.content;return s.kind==="compare_summary"?r="Summary":s.kind==="analyze_synthesis"&&(r="Analysis"),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"max-w-[90%] w-full bg-slate-800/40 border border-slate-700/50 rounded-xl px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 justify-center",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-widest text-orange-400 font-bold",children:r}),e.jsx("div",{className:"h-px flex-1 bg-slate-700/50"})]}),e.jsx("div",{className:"text-slate-300 text-sm italic text-center",children:e.jsx(m,{text:c,showThinking:!1})})]})},t)}if(s.kind==="analyze_response"||s.kind==="debate_turn"){const r=s.content.indexOf(`
`);let c="Model",N=s.content;r!==-1&&(c=s.content.slice(0,r).trim(),N=s.content.slice(r+1).trim());const R=c.split("Â·")[0].split(":")[0].trim(),i=_(R),T=(i==null?void 0:i.color)||"#94a3b8";return e.jsxs("div",{className:"flex flex-col items-start mb-6 max-w-[90%]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 pl-1",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10 shadow-sm",style:{backgroundColor:T}}),e.jsx("span",{className:"text-xs font-bold text-slate-300",children:c.replace(":","")})]}),e.jsx("div",{className:"bg-slate-800/60 border border-slate-700/60 rounded-2xl rounded-tl-sm px-4 py-3 text-slate-200 w-full",children:e.jsx(m,{text:N,showThinking:!1})})]},t)}return e.jsx("div",{className:"flex items-start mb-6",children:e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl rounded-tl-sm px-4 py-3 text-slate-200",children:e.jsx(m,{text:s.content})})},t)};return e.jsxs("div",{ref:y,className:`flex-1 overflow-y-auto px-4 py-6 scroll-smooth ${w} [mask-image:linear-gradient(to_bottom,transparent_0%,black_2rem,black_100%)]`,"data-no-arena-scroll":!0,children:[C&&f&&e.jsxs("div",{className:"sticky top-0 z-10 mb-4",children:[e.jsx("div",{className:`px-4 py-3 rounded-xl backdrop-blur-md transition-all duration-300 ${a?"bg-yellow-500/20 border border-yellow-500/40":"bg-slate-800/80 border border-slate-700/60"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-yellow-400":"bg-blue-400"} animate-pulse`}),e.jsx("span",{className:`text-xs font-semibold uppercase tracking-wider ${a?"text-yellow-300":"text-slate-300"}`,children:f})]}),o&&!a&&n>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-1.5 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-400 transition-all duration-300 rounded-full",style:{width:`${M}%`}})}),e.jsxs("span",{className:"text-[10px] text-slate-400 tabular-nums",children:[j,"/",n]})]}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-yellow-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("span",{className:"text-[10px] text-yellow-300",children:"Working..."})]})]})}),e.jsx("div",{className:"pointer-events-none",style:{height:"24px",marginTop:"-4px",background:"linear-gradient(to bottom, rgba(15, 23, 42, 0.6), transparent)"}})]}),e.jsxs("div",{className:`max-w-3xl mx-auto flex flex-col ${l.length>0?"justify-start":"justify-end"} min-h-full`,children:[l.length===0&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500 pb-20",children:[e.jsx($,{size:48,className:"mb-4 opacity-50"}),e.jsx("p",{className:"text-lg mb-8 opacity-50",children:"Start a discussion to see the transcript."}),h.length>0&&p&&e.jsxs("div",{className:"flex flex-col gap-3 w-full items-center",children:[e.jsx("p",{className:"text-sm text-slate-400 text-center mb-2",children:"Try an example:"}),h.map((s,t)=>e.jsx("button",{onClick:()=>p(s),className:"w-[85%] max-w-[340px] text-sm text-slate-300 hover:text-blue-400 bg-slate-800/50 hover:bg-slate-700/50 border border-slate-700/40 hover:border-blue-400/40 rounded-xl px-5 py-3 transition-all active:scale-[0.98] text-left",children:s},t))]})]}),l.map(E),l.length>0&&!o&&!a&&b&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-slate-300 hover:text-white bg-slate-800/60 hover:bg-slate-700/80 border border-slate-700/50 hover:border-slate-600 rounded-full transition-all active:scale-[0.97] shadow-lg shadow-black/20",children:[e.jsx(A,{size:16}),"New Round"]})}),e.jsx("div",{ref:d})]})]})}export{I as default};
