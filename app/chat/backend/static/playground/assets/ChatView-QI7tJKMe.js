import{r,j as e,u as pe,v as me,T as te,S as le,w as I,U as fe,C as he,x as be}from"./react-vendor-CWWOLG9R.js";import{F as ae}from"./FormattedContent-BhU9r6Dv.js";import{a as ge,f as we,s as ve,E as oe,P as je}from"./index-BtcAngVo.js";import"./markdown-CTxNxC3n.js";import"./math-render-BlIsIJqb.js";import"./syntax-highlight-DYicKOQf.js";function Ne(x){const[a,h]=r.useState([]);return r.useEffect(()=>{const S=x.match(/```json\s*([\s\S]*?)\s*```/);if(S)try{let w=S[1];w=w.replace(/[\\']/g,'"').replace(/,\s*}/g,"}").replace(/,\s*]/g,"]").replace(/}\s*[\\]+\s*$/g,"}").replace(/"\s*"\s*$/g,"").trim();const p=JSON.parse(w);if(p.options&&Array.isArray(p.options)){const m=p.options.filter(d=>d.id&&d.label&&d.value);m.length>0?h(m):h([])}}catch(w){console.error("Failed to parse gesture options:",w),h([])}else h([])},[x]),a}function ye(x){return x.replace(/```json[\s\S]*?```/g,"").trim()}const Se=1800;function Ce({content:x,onSelect:a,isInline:h=!1}){const S=Ne(x),[w,p]=r.useState(null),[m,d]=r.useState({}),A=r.useRef(0),u=r.useRef(0);r.useEffect(()=>{const o=$=>{var f;const N=(f=$.detail)==null?void 0:f.target;if(N&&N.hasAttribute("data-gesture-option")){const g=N.getAttribute("data-gesture-option");g&&g!==w&&(p(g),v(g))}else w&&(p(null),j())};return window.addEventListener("gesture-hover",o),()=>{window.removeEventListener("gesture-hover",o),j()}},[w]);const v=o=>{j(),A.current=Date.now();const $=()=>{const N=Date.now()-A.current,f=Math.min(N/Se*100,100);if(d(g=>({...g,[o]:f})),f>=100){const g=S.find(R=>R.id===o);g&&(a(g.value),j())}else u.current=requestAnimationFrame($)};u.current=requestAnimationFrame($)},j=()=>{u.current&&cancelAnimationFrame(u.current),d({})},b=o=>{p(o),v(o)},k=()=>{p(null),j()};if(S.length===0)return null;const E=h?"w-full mt-3":"w-full",n=h?"grid grid-cols-2 gap-2":"flex flex-col gap-2.5",M=o=>h?`relative overflow-hidden rounded-lg font-medium text-xs border transition-all duration-200 text-center min-h-[40px] flex items-center justify-center px-3 py-2 ${o?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`:`relative overflow-hidden rounded-xl font-medium text-sm border transition-all duration-200 w-full text-left min-h-[52px] flex items-center px-4 py-3 ${o?"bg-blue-500/20 border-blue-500/50 text-white shadow-lg shadow-blue-500/10 scale-[1.02]":"bg-slate-800/60 border-slate-700/60 text-slate-200 hover:bg-slate-800/80 hover:border-slate-700/80"}`;return e.jsxs("div",{className:E,children:[!h&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Quick Actions"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-slate-700/50 to-transparent"})]}),e.jsx("div",{className:n,children:S.map(o=>{const $=m[o.id]||0,N=w===o.id;return e.jsxs("button",{onClick:()=>a(o.value),onMouseEnter:()=>b(o.id),onMouseLeave:k,"data-gesture-option":o.id,className:M(N),children:[N&&$>0&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-400 to-blue-500 transition-all duration-75",style:{width:`${$}%`}}),e.jsx("span",{className:"relative z-10",children:o.label})]},o.id)})})]})}function ie({models:x,selectedModels:a,onToggleModel:h,isGenerating:S,githubToken:w,openrouterKey:p,dropDirection:m="up"}){const[d,A]=r.useState(null),[u,v]=r.useState(""),j=r.useRef(null),b=r.useRef(null),k=r.useMemo(()=>x.filter(s=>s.type==="self-hosted"),[x]),E=r.useMemo(()=>x.filter(s=>s.type==="github"),[x]),n=r.useMemo(()=>x.filter(s=>s.type==="external"),[x]),M=r.useMemo(()=>k.filter(s=>!u||s.name.toLowerCase().includes(u.toLowerCase())),[k,u]),o=r.useMemo(()=>E.filter(s=>!u||s.name.toLowerCase().includes(u.toLowerCase())),[E,u]),$=r.useMemo(()=>n.filter(s=>!u||s.name.toLowerCase().includes(u.toLowerCase())),[n,u]),N=k.filter(s=>a.has(s.id)).length,f=E.filter(s=>a.has(s.id)).length,g=n.filter(s=>a.has(s.id)).length;r.useEffect(()=>{const s=L=>{j.current&&!j.current.contains(L.target)&&(A(null),v(""))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),r.useEffect(()=>{const s=L=>{L.key==="Escape"&&(A(null),v(""))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]);const R=s=>{d===s?(A(null),v("")):(A(s),v(""),setTimeout(()=>{var L;return(L=b.current)==null?void 0:L.focus()},50))},D=s=>{const L=s.every(t=>a.has(t.id));s.forEach(t=>{(L||!a.has(t.id))&&h(t.id)})},U=s=>s==="self-hosted"?"Self-Hosted":s==="github"?"GitHub":"External",H=f>0&&!w,O=g>0&&!p,P=m==="up"?pe:me,J=s=>s?"rotate-180":"",_=(H||O)&&e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[H&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-xs",children:[e.jsx(te,{size:11,className:"shrink-0 text-yellow-500"}),e.jsx("span",{children:"Add GitHub token in Settings for dedicated quota"})]}),O&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-xs",children:[e.jsx(te,{size:11,className:"shrink-0 text-yellow-500"}),e.jsx("span",{children:"Add OpenRouter key in Settings for external models"})]})]});return e.jsxs("div",{className:"flex flex-col items-center gap-2",ref:j,children:[m==="up"&&_,e.jsxs("div",{className:"relative flex items-center gap-1 bg-slate-800/90 rounded-lg p-1 border border-slate-700/50 backdrop-blur-md shadow-lg",children:[k.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>R("self-hosted"),disabled:S,className:`h-7 px-3 flex items-center gap-1.5 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${N>0?"bg-emerald-500/20 text-emerald-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("span",{children:U("self-hosted")}),e.jsxs("span",{className:`text-[10px] ${N>0?"text-emerald-400":"text-slate-500"}`,children:[N,"/",k.length]}),e.jsx(P,{size:12,className:`transition-transform ${J(d==="self-hosted")}`})]}),d==="self-hosted"&&e.jsx(ee,{models:M,allModels:k,selectedModels:a,onToggleModel:h,onToggleAll:()=>D(k),searchQuery:u,setSearchQuery:v,searchInputRef:b,color:"emerald",showSearch:k.length>5,direction:m})]}),e.jsx("div",{className:"w-px h-5 bg-slate-600/50"})]}),E.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>R("github"),disabled:S,className:`h-7 px-3 flex items-center gap-1.5 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${f>0?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{children:U("github")}),e.jsxs("span",{className:`text-[10px] ${f>0?"text-blue-400":"text-slate-500"}`,children:[f,"/",E.length]}),e.jsx(P,{size:12,className:`transition-transform ${J(d==="github")}`})]}),d==="github"&&e.jsx(ee,{models:o,allModels:E,selectedModels:a,onToggleModel:h,onToggleAll:()=>D(E),searchQuery:u,setSearchQuery:v,searchInputRef:b,color:"blue",showSearch:E.length>5,direction:m})]}),n.length>0&&e.jsx("div",{className:"w-px h-5 bg-slate-600/50"})]}),n.length>0&&e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs("button",{onClick:()=>R("external"),disabled:S,className:`h-7 px-3 flex items-center gap-1.5 rounded-md transition-all active:scale-95 text-xs font-medium whitespace-nowrap ${g>0?"bg-purple-500/20 text-purple-300":"text-slate-400 hover:text-slate-300 hover:bg-slate-700/30"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsx("span",{children:U("external")}),e.jsxs("span",{className:`text-[10px] ${g>0?"text-purple-400":"text-slate-500"}`,children:[g,"/",n.length]}),e.jsx(P,{size:12,className:`transition-transform ${J(d==="external")}`})]}),d==="external"&&e.jsx(ee,{models:$,allModels:n,selectedModels:a,onToggleModel:h,onToggleAll:()=>D(n),searchQuery:u,setSearchQuery:v,searchInputRef:b,color:"purple",showSearch:n.length>5,direction:m})]})]}),m==="down"&&_]})}function ee({models:x,allModels:a,selectedModels:h,onToggleModel:S,onToggleAll:w,searchQuery:p,setSearchQuery:m,searchInputRef:d,color:A,showSearch:u,direction:v}){const j=a.every(n=>h.has(n.id)),b={emerald:{bg:"bg-emerald-500/20",text:"text-emerald-300",check:"text-emerald-400",dot:"bg-emerald-500/50",border:"focus:border-emerald-500/50"},blue:{bg:"bg-blue-500/20",text:"text-blue-300",check:"text-blue-400",dot:"bg-blue-500/50",border:"focus:border-blue-500/50"},purple:{bg:"bg-purple-500/20",text:"text-purple-300",check:"text-purple-400",dot:"bg-purple-500/50",border:"focus:border-purple-500/50"}}[A],k=v==="up"?"bottom-full left-0 mb-2":"top-full left-0 mt-2",E=v==="up"?"animate-in fade-in slide-in-from-bottom-2":"animate-in fade-in slide-in-from-top-2";return e.jsxs("div",{className:`absolute ${k} w-56 bg-slate-800/95 backdrop-blur-md border border-slate-700 rounded-lg shadow-2xl z-[100] overflow-hidden ${E} duration-150`,onClick:n=>n.stopPropagation(),"data-no-arena-scroll":!0,children:[v==="down"&&u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:d,type:"text",placeholder:"Search...",value:p,onChange:n=>m(n.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${b.border}`})]})}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),v==="down"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:w,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${j?`${b.bg} ${b.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:j?"Deselect All":"Select All"}),j&&e.jsx("span",{className:b.check,children:"âœ“"})]}),e.jsx("div",{className:"border-t border-slate-700/50"})]}),e.jsx("div",{className:"max-h-48 overflow-y-scroll chat-scroll",style:{WebkitOverflowScrolling:"touch"},children:x.map(n=>{const M=h.has(n.id);return e.jsxs("button",{onClick:()=>S(n.id),className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${M?`${b.bg} text-slate-200`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b.dot}`}),e.jsx("span",{children:n.name})]}),M&&e.jsx("span",{className:b.check,children:"âœ“"})]},n.id)})}),v==="up"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsxs("button",{onClick:w,className:`w-full px-3 py-2 text-left text-xs font-medium transition-colors flex items-center justify-between ${j?`${b.bg} ${b.text}`:"text-slate-300 hover:bg-slate-700/50"}`,children:[e.jsx("span",{children:j?"Deselect All":"Select All"}),j&&e.jsx("span",{className:b.check,children:"âœ“"})]})]}),v==="up"&&u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50"}),e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{ref:d,type:"text",placeholder:"Search...",value:p,onChange:n=>m(n.target.value),className:`w-full pl-7 pr-2 py-1 text-xs bg-slate-700/50 border border-slate-600/50 rounded text-slate-200 placeholder-slate-500 focus:outline-none ${b.border}`})]})})]})]})}const Re=r.forwardRef(({models:x,selectedModels:a,onToggleModel:h,githubToken:S,openrouterKey:w,messages:p,setMessages:m,isGenerating:d,setIsGenerating:A,gesturesActive:u=!1},v)=>{var s,L;const[j,b]=r.useState(!1),[k,E]=r.useState(null),[n,M]=r.useState(new Map),[o,$]=r.useState(new Map),N=r.useRef(new Map),f=r.useRef(null),g=r.useRef(null),R=r.useRef(!1),D=ge(),U=((s=D==null?void 0:D.gestureState)==null?void 0:s.gesture)==="Middle_Finger",H=r.useCallback(()=>{if(!f.current)return!0;const{scrollTop:t,scrollHeight:l,clientHeight:i}=f.current;return l-t-i<100},[]);r.useEffect(()=>{const t=f.current;if(!t)return;const l=()=>{H()?R.current=!1:R.current=!0};return t.addEventListener("scroll",l,{passive:!0}),()=>t.removeEventListener("scroll",l)},[H]),r.useImperativeHandle(v,()=>({sendMessage:(t,l)=>O(t,l),setInput:t=>{g.current&&(g.current.value=t,g.current.focus())},stopGeneration:P,scroll:t=>{f.current&&(R.current=!0,f.current.scrollTop=f.current.scrollTop-t)}})),r.useEffect(()=>{f.current&&!R.current&&(f.current.scrollTop=f.current.scrollHeight)},[p,n]),r.useEffect(()=>{const t=l=>{var T;if(l.ctrlKey||l.metaKey||l.altKey)return;const i=l.target;i.tagName==="INPUT"||i.tagName==="TEXTAREA"||l.key.length===1&&((T=g.current)==null||T.focus())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const O=async(t,l=!1)=>{if(!t.trim()||d||a.size===0)return;R.current=!1;const i=Array.from(a),T={role:"user",content:t};m(c=>[...c,T]),A(!0),M(new Map(i.map(c=>[c,""])));const F=Date.now();$(new Map(i.map(c=>[c,{startTime:F}])));const B=[...p,T].map(c=>({role:c.role,content:c.content})),G=`User is hands-free using gesture control. Build an interactive interface to guide them.

Available gesture inputs:
- ðŸ‘ (yes/approve/like)
- ðŸ‘Ž (no/disapprove/dislike)
- ðŸ‘‹ (hi/hello/greeting)
- "ok" (okay/continue)
- "thanks" (thank you)
- "stop" (stop/wait)
- Pointing finger (select UI buttons)

Choose interaction style:
- Simple binary: "Give ðŸ‘ to continue or ðŸ‘Ž to stop" (no JSON needed)
- Complex choices: Use JSON UI buttons (3+ options, or multi-word responses needed)

For JSON UI (when appropriate):
\`\`\`json
{
  "options": [
    {"id": "opt1", "label": "Option 1", "action": "message", "value": "option 1"},
    {"id": "opt2", "label": "Option 2", "action": "message", "value": "option 2"}
  ]
}
\`\`\`

Guidelines:
- Keep response concise (2-3 sentences)
- Use simple gestures for yes/no/continue (more efficient)
- Use JSON UI for 3+ options or complex choices
- Provide 2-4 options max in JSON
- User can point at buttons with index finger`,ce=t==="ðŸ–•"||t.toLowerCase().includes("middle finger"),de="The user is showing you their middle finger (gesture). This is a playful interaction. Respond with humorous, over-the-top anger, indignation, or witty comeback. Don't be actually offended, but play along with the 'angry robot' persona.",K=[];(u||l)&&K.push({role:"system",content:G}),ce&&K.push({role:"system",content:de});const ue=[...K,...B];let q=0;const se=i.length,xe=i.map(async c=>{const Q=x.find(C=>C.id===c),re=Date.now();if(!Q){m(C=>[...C,{role:"assistant",content:"Model not found",modelName:c,modelId:c,error:!0}]),M(C=>{const y=new Map(C);return y.delete(c),y}),$(C=>{const y=new Map(C);return y.delete(c),y}),q++,q===se&&A(!1);return}const V=new AbortController;N.current.set(c,V);let W;try{const C=await we({models:[c],messages:ue,max_tokens:2048,temperature:.7,github_token:S||null,openrouter_key:w||null},V.signal);let y="";await ve(C,z=>{if(V.signal.aborted)throw new DOMException("Aborted","AbortError");if(z.event==="error"||z.error)throw new Error(typeof z.error=="string"?z.error:z.content||"Stream failed");z.content&&(W||(W=Date.now(),$(Y=>{const Z=new Map(Y),ne=Z.get(c);return ne&&Z.set(c,{...ne,firstTokenTime:W}),Z})),y+=z.content,M(Y=>new Map(Y).set(c,y)))});const X=Date.now();m(z=>[...z,{role:"assistant",content:y,modelName:Q.name,modelId:c,timing:{startTime:re,firstTokenTime:W,endTime:X}}])}catch(C){const y=Date.now();C.name!=="AbortError"&&m(X=>[...X,{role:"assistant",content:C.message,modelName:Q.name,modelId:c,error:!0,timing:{startTime:re,firstTokenTime:W,endTime:y}}])}finally{N.current.delete(c),M(C=>{const y=new Map(C);return y.delete(c),y}),$(C=>{const y=new Map(C);return y.delete(c),y}),q++,q===se&&A(!1)}});await Promise.all(xe)},P=()=>{N.current.forEach(i=>i.abort()),N.current.clear();const t=[],l=Date.now();n.forEach((i,T)=>{if(i.trim()){const F=x.find(G=>G.id===T),B=o.get(T);t.push({role:"assistant",content:i,modelName:F==null?void 0:F.name,modelId:T,timing:B?{...B,endTime:l}:void 0})}}),t.length>0&&m(i=>[...i,...t]),M(new Map),$(new Map),A(!1)},J=r.useCallback(async t=>{const l=p[t];if(l)try{await navigator.clipboard.writeText(l.content),E(`${t}`),setTimeout(()=>E(null),2e3)}catch(i){console.error("Copy failed",i)}},[p]),_=a.size===0?"Select models to start...":a.size===1?`Message ${((L=x.find(t=>t.id===Array.from(a)[0]))==null?void 0:L.name)||"model"}...`:`Message ${a.size} models...`;return e.jsxs("div",{className:"flex flex-col h-full relative",children:[e.jsx("div",{ref:f,className:"flex-1 overflow-y-scroll p-4 pb-40 chat-scroll",style:{WebkitOverflowScrolling:"touch"},"data-no-arena-scroll":!0,children:e.jsxs("div",{className:"mx-auto max-w-2xl space-y-4",children:[p.length===0&&e.jsxs("div",{className:"flex-1 flex flex-col items-center text-slate-500 select-none pt-[15vh]",children:[U?e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500 blur-xl opacity-50 rounded-full"}),e.jsx(I,{size:72,className:"relative text-red-500"}),e.jsx("div",{className:"absolute -top-2 -right-2 text-3xl",children:"ðŸ’¢"})]}):e.jsx(I,{size:72,className:"mb-6 opacity-50 transition-all duration-300"}),e.jsx(ie,{models:x,selectedModels:a,onToggleModel:h,isGenerating:d,githubToken:S,openrouterKey:w,dropDirection:"down"})]}),p.map((t,l)=>{const i=t.role==="assistant"&&u&&t.content.includes("```json");return e.jsxs("div",{className:`flex ${t.role==="user"?"justify-end":"justify-start"}`,children:[e.jsxs("div",{className:`group relative max-w-[85%] rounded-2xl px-4 py-3 ${t.role==="user"?"bg-blue-600/20 border border-blue-500/30 text-white rounded-tr-sm":t.error?"bg-red-500/10 border border-red-500/30 text-red-200 rounded-tl-sm":"bg-slate-800/60 border border-slate-700/60 text-slate-200 rounded-tl-sm"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider ${t.role==="user"?"text-blue-300 flex-row-reverse":"text-slate-400"}`,children:[t.role==="user"?e.jsx(fe,{size:12}):e.jsx(I,{size:12}),t.role==="user"?"You":t.modelName||"Assistant",t.error&&e.jsx(te,{size:12,className:"text-red-400"})]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ae,{text:t.role==="user"?t.content:ye(t.content)})}),t.role==="assistant"&&t.timing&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(oe,{times:t.timing})}),t.role==="assistant"&&t.content&&e.jsx("button",{onClick:()=>J(l),className:`absolute bottom-2 right-2 p-1.5 rounded-md transition-all ${k===`${l}`?"bg-emerald-500/20 text-emerald-400":"opacity-0 group-hover:opacity-100 bg-slate-700/70 text-slate-400"}`,children:k===`${l}`?e.jsx(he,{size:12}):e.jsx(be,{size:12})})]}),i&&e.jsx("div",{className:"ml-4",children:e.jsx(Ce,{content:t.content,onSelect:T=>O(T,!0),isInline:!1})})]},l)}),d&&n.size>0&&e.jsx(e.Fragment,{children:Array.from(n.entries()).map(([t,l])=>{const i=x.find(F=>F.id===t),T=o.get(t);return e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"max-w-[85%] rounded-2xl rounded-tl-sm px-4 py-3 bg-slate-800/60 border border-amber-500/30 text-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider text-amber-400/80",children:[e.jsx("div",{className:"w-3 h-3 border-2 border-amber-400/50 border-t-amber-400 rounded-full animate-spin"}),(i==null?void 0:i.name)||t]}),e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(ae,{text:l||"..."})}),T&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-700/30",children:e.jsx(oe,{times:T})})]})},t)})})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-[99] flex flex-col items-center gap-3 px-4 pb-4",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:[p.length>0&&e.jsx(ie,{models:x,selectedModels:a,onToggleModel:h,isGenerating:d,githubToken:S,openrouterKey:w,dropDirection:"up"}),e.jsx(je,{inputRef:g,inputFocused:j,setInputFocused:b,onSendMessage:O,placeholder:_,isGenerating:d,onStop:P,className:"w-full flex justify-center",style:{}})]})]})});export{Re as default};
